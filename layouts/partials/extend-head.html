<!-- VERSION 2 - CACHED -->
<!-- Typography: Inter Font -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet">
<style>
    body {
        font-family: 'Inter', sans-serif !important;
    }

    .fixed-header-padding header {
        backdrop-filter: blur(12px) !important;
        -webkit-backdrop-filter: blur(12px) !important;
    }

    /* Progressive Image Loading */
    .progressive-img {
        filter: blur(12px);
        transition: none;
        will-change: filter, opacity;
    }

    .progressive-img.loaded {
        filter: blur(0);
        transition: filter 0.4s ease-in-out, opacity 0.4s ease-in-out;
    }

    .progressive-img.loaded-instant {
        filter: none !important;
        transition: none !important;
    }
</style>
<script>
    function initProgressiveSwap(img) {
        if (img.classList.contains('loaded') || img.classList.contains('loaded-instant') || !img.dataset.src) return;

        const full = new Image();
        full.src = img.dataset.src;

        if (full.complete) {
            // Cached → swap instantly with no transition
            img.src = full.src;
            img.classList.add('loaded-instant');
            img.classList.add('loaded');
        } else {
            // Not cached → sharpen only after load
            full.onload = () => {
                img.src = full.src;
                // Double requestAnimationFrame to ensure the src swap is processed before adding the class
                requestAnimationFrame(() => {
                    requestAnimationFrame(() => {
                        img.classList.add('loaded');
                    });
                });
            };
        }
    }
</script>